Name = "A1 mini"

[Markers]
EndInitSection = ["M624"]
EndPrintSection = ["M625"]
# Markers requre to split gcode into sections:
# - initialization section
# - print section
# - end section
# Markers can have multiple lines
# Multiline markers work only when all lines are found one after another

[SearchStrategy]
EndInitSectionStrategy = "before_first_appear"
EndPrintSectionStrategy = "after_last_appear"
# Available strategies for searching markers that split gcode into sections:
# - after_first_appear
# - after_last_appear
# - before_first_appear

[Parameters]
RetractDistance = 0.8
MoveDownBeforePush = 50.0
MinZ = 0.5
BackY = 179.99
PushY = 0

[Template]
Code = """
======================================================================
; Generated code for {{.PrinterName}} - Iteration {{.Iteration}}
G1 E-{{.Config.RetractDistance}}
{{if gt .Request.WaitBedCooldownTemp 0}}M190 R{{.Request.WaitBedCooldownTemp}} ; Set wait bed temperature{{end}}
{{if gt .Request.WaitMin 0}}G4 S{{mul .Request.WaitMin 60}} ; Wait timeout{{end}}
G1 Y{{.Config.BackY}} ; Move back
G1 X{{printf "%.2f" .Positions.LastPrintX}} ; Move to last print X position
G1 Z{{printf "%.2f" (max (sub .Positions.LastPrintZ .Config.MoveDownBeforePush) .Config.MinZ)}} ; Move to Z position
G1 Y{{.Config.PushY}}; Push printed item
G1 X{{.Positions.FirstPrintX}} Y{{.Positions.FirstPrintY}} Z{{.Positions.FirstPrintZ}}
G1 E{{.Config.RetractDistance}}
G1 E{{.Request.ExtraExtrude}}
======================================================================
"""